{"version":3,"sources":["redux/actions/index.ts","core/useSearchParams.ts","../node_modules/react-image/umd/index.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/defineProperty.js","core/Spinner/index.tsx","components/Gallery.tsx"],"names":["getCategories","type","actionTypes","getImages","params","getMoreImages","useSearchParams","names","useQuery","URLSearchParams","useLocation","search","query","forEach","name","get","a","b","c","d","e","Object","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","push","apply","f","arguments","length","getOwnPropertyDescriptors","defineProperties","defineProperty","g","srcList","imgPromise","j","decode","useSuspense","h","o","useState","p","k","l","q","join","m","promise","n","cache","error","then","src","isLoading","loader","unloader","container","loaderContainer","r","unloaderContainer","s","t","u","crossorigin","v","w","x","y","crossOrigin","z","A","i","createElement","assign","prototype","hasOwnProperty","call","Promise","Image","onload","onerror","Array","isArray","reduce","shift","Img","useImage","value","exports","require","module","source","excluded","key","target","sourceKeys","indexOf","obj","configurable","writable","Spinner","className","Gallery","image","useSelector","state","history","useHistory","dispatch","useDispatch","React","useEffect","category_ids","isFetching","list","map","id","url","height","width","alt","onClick","limit"],"mappings":"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","file":"static/js/3.c73900a8.chunk.js","sourcesContent":["import * as actionTypes from \"../../constants/actionTypes\";\r\n\r\nexport interface Params {\r\n  limit: string;\r\n  category_ids: string;\r\n}\r\n\r\nexport const getCategories = () => ({\r\n  type: actionTypes.GET_CATEGORIES,\r\n});\r\n\r\nexport const getImages = (params: Params) => ({\r\n  type: actionTypes.GET_IMAGES,\r\n  params,\r\n});\r\n\r\nexport const getMoreImages = (params: Params) => ({\r\n  type: actionTypes.GET_MORE_IMAGES,\r\n  params,\r\n});\r\n","import { useLocation } from \"react-router-dom\";\r\n\r\nconst useSearchParams = (names: string[] = []): any => {\r\n  const useQuery = () => new URLSearchParams(useLocation().search);\r\n  const query = useQuery();\r\n  const params: { [index: string]: any } = {};\r\n  names.forEach((name) => (params[name] = query.get(name)));\r\n  return params;\r\n};\r\n\r\nexport default useSearchParams;\r\n","(function(a,b){\"object\"==typeof exports&&\"undefined\"!=typeof module?b(exports,require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"),require(\"react\"),require(\"@babel/runtime/helpers/defineProperty\")):\"function\"==typeof define&&define.amd?define([\"exports\",\"@babel/runtime/helpers/objectWithoutPropertiesLoose\",\"react\",\"@babel/runtime/helpers/defineProperty\"],b):(a=a||self,b(a.Img={},a._objectWithoutPropertiesLoose,a.React,a._defineProperty))})(this,function(a,b,c,d){'use strict';function e(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function f(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?e(Object(b),!0).forEach(function(c){d(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):e(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function g(a){var b=a.srcList,d=a.imgPromise,e=void 0===d?j({decode:!0}):d,g=a.useSuspense,h=void 0===g||g,i=c.useState(!0),o=i[1],p=k(l(b)),q=p.join(\"\");if(m[q]||(m[q]={promise:n(p,e),cache:\"pending\",error:null}),m[q].promise.then(function(a){m[q]=f(f({},m[q]),{},{cache:\"resolved\",src:a}),h||o(!1)})[\"catch\"](function(a){m[q]=f(f({},m[q]),{},{cache:\"rejected\",error:a}),h||o(!1)}),\"resolved\"===m[q].cache)return{src:m[q].src,isLoading:!1,error:null};if(\"rejected\"===m[q].cache){if(h)throw m[q].error;return{isLoading:!1,error:m[q].error,src:void 0}}if(h)throw m[q].promise;return{isLoading:!0,src:void 0,error:null}}function h(a){var c=a.decode,d=a.src,e=void 0===d?[]:d,f=a.loader,h=void 0===f?null:f,k=a.unloader,l=void 0===k?null:k,m=a.container,n=void 0===m?o:m,p=a.loaderContainer,q=void 0===p?o:p,r=a.unloaderContainer,s=void 0===r?o:r,t=a.imgPromise,u=a.crossorigin,v=a.useSuspense,w=void 0!==v&&v,x=b(a,[\"decode\",\"src\",\"loader\",\"unloader\",\"container\",\"loaderContainer\",\"unloaderContainer\",\"imgPromise\",\"crossorigin\",\"useSuspense\"]);t=t||j({decode:!(void 0!==c)||c,crossOrigin:u});var y=g({srcList:e,imgPromise:t,useSuspense:w}),z=y.src,A=y.isLoading;return z?n(i.createElement(\"img\",Object.assign({src:z},x))):!w&&A?q(h):!w&&l?s(l):null}b=b&&Object.prototype.hasOwnProperty.call(b,\"default\")?b[\"default\"]:b;var i=\"default\"in c?c[\"default\"]:c;d=d&&Object.prototype.hasOwnProperty.call(d,\"default\")?d[\"default\"]:d;var j=function(a){var b=a.decode,c=a.crossOrigin,d=void 0===c?\"\":c;return function(a){return new Promise(function(c,e){var f=new Image;d&&(f.crossOrigin=d),f.onload=function(){(!(void 0!==b)||b)&&f.decode?f.decode().then(c)[\"catch\"](e):c()},f.onerror=e,f.src=a})}},k=function(b){return b.filter(function(a){return a})},l=function(a){return Array.isArray(a)?a:[a]},m={},n=function(a,b){var c=!1;return new Promise(function(d,e){var f=function(a){return b(a).then(function(){c=!0,d(a)})};a.reduce(function(a,b){return a[\"catch\"](function(){if(!c)return f(b)})},f(a.shift()))[\"catch\"](e)})},o=function(a){return a};a.Img=h,a.useImage=g,Object.defineProperty(a,\"__esModule\",{value:!0})});\n//# sourceMappingURL=index.js.map\n","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","import React from \"react\";\r\nimport \"./index.scss\";\r\n\r\nconst Spinner: React.FC<{ className: string }> = ({ className }) => {\r\n  return (\r\n    <div className={className}>\r\n      <div className=\"lds-spinner\">\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Img } from \"react-image\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { DefaultRootState } from \"../constants/types\";\r\nimport Loader from \"../core/loader\";\r\nimport useSearchParams from \"../core/useSearchParams\";\r\nimport { getImages, getMoreImages } from \"../redux/actions\";\r\n\r\nimport Spinner from \"../core/Spinner\";\r\n\r\nconst Gallery: React.FC = () => {\r\n  const image = useSelector<DefaultRootState, DefaultRootState[\"image\"]>(\r\n    (state) => state.image\r\n  );\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const params = useSearchParams([\"limit\", \"category_ids\"]);\r\n\r\n  React.useEffect(() => {\r\n    dispatch(getImages(params));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [dispatch, params.category_ids]);\r\n\r\n  const handleOnMoreImagesClick = () => {\r\n    dispatch(getMoreImages(params));\r\n    const { limit, category_ids } = params;\r\n    history.push(\r\n      `/gallery/search?limit=${+limit + 10}&category_ids=${category_ids}`\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"gallery\">\r\n      {image.isFetching ? (\r\n        <Loader className=\"gallery-load\" />\r\n      ) : (\r\n        <>\r\n          <section className=\"photos\">\r\n            {image.list.map(({ id, url, height, width }) => (\r\n              <Img\r\n                key={id}\r\n                src={url}\r\n                alt={\"cat\"}\r\n                height={height}\r\n                width={width}\r\n                loader={<Spinner className={\"load-wrapper\"} />}\r\n              />\r\n            ))}\r\n          </section>\r\n          <div className=\"more-images\" onClick={handleOnMoreImagesClick}>\r\n            load more images\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Gallery;\r\n"],"sourceRoot":""}